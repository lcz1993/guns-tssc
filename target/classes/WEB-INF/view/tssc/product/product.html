<html class="header-pc lang-ch"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,requiresActiveX=true">
    <title>产品</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">
    <meta name="google" value="notranslate">
    <meta http-equiv="cleartype" content="on">


    <!-- Page info metas start-->
    <meta name="description" content="">
    <meta property="og:title" content="">
    <meta property="og:description" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <meta property="og:site_name" content="">
    <meta property="og:type" content="website">
    <meta property="article:publisher" content="">
    <meta property="article:author" content="">
    <!-- Page info metas end-->
    <link rel="shortcut icon" href="${ctxPath}/static/reception/img/logo.png"/>
    <!-- Initial header classname -->
    <script>!!(window.innerWidth <= 960) && (document.documentElement.className = document.documentElement.className.replace('header-pc', 'header-mb'));</script>
    <link rel="stylesheet" href="${ctxPath}/static/reception/css/indexom.css" />
    <link rel="stylesheet" href="${ctxPath}/static/reception/css/main.css" />
    <!-- 全局css -->
    <link rel="shortcut icon" href="${ctxPath}/static/favicon.ico">
    <link href="${ctxPath}/static/css/bootstrap.min.css?v=3.3.6" rel="stylesheet">
    <link href="${ctxPath}/static/css/font-awesome.css?v=4.4.0" rel="stylesheet">
    <link href="${ctxPath}/static/css/plugins/bootstrap-table/bootstrap-table.min.css" rel="stylesheet">
    <link href="${ctxPath}/static/css/plugins/validate/bootstrapValidator.min.css" rel="stylesheet">
    <link href="${ctxPath}/static/css/animate.css" rel="stylesheet">
    <link href="${ctxPath}/static/css/style.css?v=4.1.0" rel="stylesheet">
    <link href="${ctxPath}/static/css/_fstyle.css" rel="stylesheet">
    <link href="${ctxPath}/static/css/plugins/iCheck/custom.css" rel="stylesheet">
    <link href="${ctxPath}/static/css/plugins/webuploader/webuploader.css" rel="stylesheet">
    <link href="${ctxPath}/static/css/plugins/ztree/zTreeStyle.css" rel="stylesheet">
    <link href="${ctxPath}/static/css/plugins/jquery-treegrid/css/jquery.treegrid.css" rel="stylesheet"/>
    <!-- 全局js -->
    <script src="${ctxPath}/static/js/jquery.min.js?v=2.1.4"></script>
    <script src="${ctxPath}/static/js/bootstrap.min.js?v=3.3.6"></script>
    <script src="${ctxPath}/static/js/plugins/ztree/jquery.ztree.all.min.js"></script>
    <script src="${ctxPath}/static/js/plugins/bootstrap-table/bootstrap-table.min.js"></script>
    <script src="${ctxPath}/static/js/plugins/validate/bootstrapValidator.min.js"></script>
    <script src="${ctxPath}/static/js/plugins/validate/zh_CN.js"></script>
    <script src="${ctxPath}/static/js/plugins/bootstrap-table/bootstrap-table-mobile.min.js"></script>
    <script src="${ctxPath}/static/js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js"></script>
    <script src="${ctxPath}/static/js/plugins/jquery-treegrid/js/jquery.treegrid.min.js"></script>
    <script src="${ctxPath}/static/js/plugins/jquery-treegrid/js/jquery.treegrid.bootstrap3.js"></script>
    <script src="${ctxPath}/static/js/plugins/jquery-treegrid/extension/jquery.treegrid.extension.js"></script>
    <script src="${ctxPath}/static/js/plugins/layer/layer.min.js"></script>
    <script src="${ctxPath}/static/js/plugins/iCheck/icheck.min.js"></script>
    <script src="${ctxPath}/static/js/plugins/layer/laydate/laydate.js"></script>
    <script src="${ctxPath}/static/js/plugins/webuploader/webuploader.min.js"></script>
    <script src="${ctxPath}/static/js/common/ajax-object.js"></script>
    <script src="${ctxPath}/static/js/common/bootstrap-table-object.js"></script>
    <script src="${ctxPath}/static/js/common/tree-table-object.js"></script>
    <script src="${ctxPath}/static/js/common/web-upload-object.js"></script>
    <script src="${ctxPath}/static/js/common/ztree-object.js"></script>
    <script src="${ctxPath}/static/js/common/Feng.js"></script>


    <script type="text/javascript">
        Feng.addCtx("${ctxPath}");
        Feng.sessionTimeoutRegistry();
    </script>
</head>
<body ontouchstart="" style="background-color: #AAA">

<div id="loader"><div class="spinner"></div></div>

<main class="mastbody">
    <div class="mastbody-inner">

        <div class="effect-holder" data-effect="works"></div>

        <div data-articleurl="works-detailed.html?Serno={id}" data-listurl="works.html?year=2017&amp;tag=all&amp;company=all" data-startpath="#/article"></div>



        <div id="works" data-section="article" class="section">
            <section data-mainpage="list" class="mainpage">
                <div id="ajaxlist" class="page-body article-list">
                    <div class="row-main">
                        <form method="post" action="./works.html" id="worksform">
                            <div class="aspNetHidden">
                                <input type="hidden" name="actionStamp" id="actionStamp" value="2018%2f4%2f8+%e4%b8%8a%e5%8d%88+11%3a32%3a37">
                                <input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTE3NzQwMzQ1MzYPZBYCAgIPZBYGAgEPEA8WBh4NRGF0YVRleHRGaWVsZAUJY2FzZV90eXBlHg5EYXRhVmFsdWVGaWVsZAUFU2Vybm8eC18hRGF0YUJvdW5kZ2QQFQsS5omA5pyJ5qGI5L6L6aGe5YilD+WTgeeJjOWSjOWJteaEjwzlhaflrrnooYzpircG5YWs6ZecDOaVuOaTmuWIhuaekAznpL7nvqTooYzpircP5raI6LK76ICF5LqS5YuVBua0u+WLlRLmlbjkvY3lqpLpq5TooYzpircY5raI6LK76ICF5Y+K6Zu25ZSu5o6o5bujDOaVuOS9jeihjOmKtxULAAExATIBMwE0ATUBNgE3ATgBOQIxMBQrAwtnZ2dnZ2dnZ2dnZ2RkAgMPEA8WBh8ABQR0ZXh0HwEFBmFubnVhbB8CZ2QQFQUM5omA5pyJ5bm05Lu9BDIwMTYEMjAxNQQyMDE0BDIwMTMVBQAEMjAxNgQyMDE1BDIwMTQEMjAxMxQrAwVnZ2dnZ2RkAgUPEA8WBh8ABQdjb21wYW55HwEFBVNlcm5vHwJnZBAVCAzmiYDmnInlnJjpmooe5aWn576O5pW05ZCI6KGM6Yq35YKz5pKt6ZuG5ZyYDOWlp+e+juW7o+WRihLlpafnvo7kupLli5XooYzpircS5aWn576O5YWs5YWx6Zec5L+CEuS4lue0gOWlp+e+juWFrOmXnBLmiJHmmK/lpKfooZvlu6PlkYoM57SF5Z2K5Ym15oSPFQgAAjEyATEBMgE1ATYCMTABORQrAwhnZ2dnZ2dnZ2RkZCahRd+HDMUn9g30ddk88WOUH85zlKbGnviZFaSK+3W1">
                            </div>

                            <div class="aspNetHidden">
                                <input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="EBE9D16C">
                                <input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="/wEdABnP0ZA8kT1MH+JE3U8iZstZIMJPpxkAztS7ODIRAs4RiMIL08P8rnTsbg9wB0UGhkN1peFUelj+EhrU53T13i+uUTFmuj7ZtnEZtUzMl0psxa3QCp3xjWjCEw7kCb5ctkAxDfrHEq2By5vDZsRdGE/EEnjBazX5ua7onRkg7rfz1xSXh1loUSt63eXpOPyIh7KyJ4NjKRRgcYcqH6T7j6TsDuJvFbU2+o3zA0KNYC6u8dgMK1S7YUB8Pud9WnHKcj7oXDEtci8mednFEKQQYva+b0u/QkGuYIFlLayujxQuRoo7FuDy7NXB14avq/b2v7d2hTpZ2fAU/QNc8vV2rGQYBxmjLK/GwK+7fSfOvqbtXzRZekZwyFhi39Gs9YhnXxqk5/PuLoRJrRTOMjGqYebVsy9iDeg+kFJyfrPzV61rZH5kNDEpBsGC2FwIRR5u+azQWtxL0rZ75hXX/dMTJY07mUGmS9d75Ld7n7xTRWPBg67A8r6MPOMqxAzeL6Wch4lOC649XM09xReQvlpg0GQpLuvFueWHkWJ8kDtVo63ZElT2rXSoTJ4i+J5nKtP/zUo=">
                            </div>
                            <div class="header">
                                <h1 class="maintitle">作品<#button name="添加" icon="fa-plus" clickFun="Product.openAddProduct()"/></h1>

                                <div class="filter">
								<span class="term x-select">
                                    <select name="ddlTag" id="ddlTag">
                                        <option selected="selected" value="">所有类别</option>
                                        @for(genre in genres){
                                            <option value="${genre.id}">${genre.name}</option>
                                        @}
                                        <!--<option value="1">品牌和創意</option>-->
                                    </select>
								</span>
                                    <span class="term x-select">
									<select name="ddlYear" id="ddlYear">
                                        <option selected="selected" value="">所有年份</option>
                                        <option value="2017">2017</option>
                                    </select>
								</span>
                                <span class="term x-select">
                                    <select name="ddlCompany" id="ddlCompany">
                                        <option selected="selected" value="">所有工作室</option>
                                        @for(studio in studios){
                                            <option value="${studio.id}">${studio.name}</option>
                                        @}
                                        <!--<option value="9">紅坊創意</option>-->

                                    </select>
								</span>
                                </div>
                            </div>
                        </form>
                        <div class="content">
                            <div class="content-inner">
                                <div class="worklist">

                                    <!-- 每12筆分為一個 <ul> .worklist-row -->
                                    @for(products in lists){
                                        <ul class="worklist-row">
                                        @for(product in products){
                                            <li class="item">
                                                <a data-articleid=${product.id} style="cursor:pointer;" onclick="goLeft(event)">
                                                    <div class="heading ff-loud">
                                                        <h4 class="title">${product.name}</h4>
                                                    </div>
                                                    <img class="pic" src="${ctxPath}/product/"+{product.boundary}>
                                                </a>
                                            </li>
                                        @}
                                        </ul>
                                    @}

                                </div>
                            </div><!--/.content-inner-->
                        </div><!--/.content-->
                    </div><!--/.row-main-->
                </div><!--/.page-body-->
            </section>

            <section data-mainpage="detail" class="mainpage">
                <div class="redstripe"></div>

                <section data-subpage="1" class="subpage on" id="section_product">

                    <div class="page-body article-detail">
                        <div class="row-main" style="height: 40px;">
                            <#button name="编辑" icon="fa-plus" clickFun="Product.openProductDetail()" space="true"/>
                            <#button name="删除" icon="fa-plus" clickFun="Product.delete(event)" space="true"/>
                        </div>
                        <div class="row-main">
                            <div class="header">
                                <h3 class="meta clr-red" id="customer">客戶：</h3>
                                <h2 class="maintitle clr-red" id="product_name">产品名称</h2>
                                <div class="hr"></div>
                                <p class="meta clr-black" id="genre_name">

                                </p>
                            </div>
                            <div class="content" data-scrollpane="" data-autosize="" style="height: 404px; overflow: hidden; padding: 0px; width: 675px;">
                                <div class="jspContainer" style="width: 675px; height: 404px;">
                                    <div class="jspPane" style="padding: 0px; top: 0px; left: 0px; width: 675px;">
                                        <div class="content-inner htmledit" id="product_introduce">
                                           介绍
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="footer">
                                <p class="meta clr-red" id="product_team">团队： <span></span><a class="term" href="${ctxPath}/studio?">
                                    <img class="companylogo" id="studio_logo" src="${ctxPath}/studio/{product.studio.logo}" alt="" /></a> </p>
                            </div>
                            <a class="btn-close back" href="${ctxPath}/product" title="回前页"><i class="icn icn-close"></i></a>
                        </div>
                        <div class="row-side">
                            <div class="content" data-autosize="" data-scrollpane="" style="overflow: hidden; padding: 0px; width: 1920px;">
                                <div class="jspContainer" style="width: 1920px; height: 877px;">
                                    <div class="jspPane" style="padding: 0px; top: 0px; left: 0px; width: 1920px;">
                                        <div class="content-mask">
                                            <div class="content-outer" style="min-height: 877px;">

                                                    <div id="carousel-example-generic" class="carousel slide" data-ride="carousel" style="width: 60%;height: 60%;margin: auto;margin-top: 100px;">
                                                        <!-- Indicators -->
                                                        <ol class="carousel-indicators" id="img_ol">

                                                        </ol>

                                                        <!-- Wrapper for slides -->
                                                        <div class="carousel-inner" role="listbox" id="img_div">


                                                        </div>

                                                        <!-- Controls -->
                                                        <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                                                            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                                                            <span class="sr-only">Previous</span>
                                                        </a>
                                                        <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                                                            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                                                            <span class="sr-only">Next</span>
                                                        </a>
                                                    </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

            </section>
        </div><!--/[data-section]-->


    </div><!--/.mastbody-inner-->
</main><!--/.mastbody-->



<script src="${ctxPath}/static/reception/js/libs/jquery.js"></script>
<script src="${ctxPath}/static/reception/js/libs/plugins.js"></script>
<script src="${ctxPath}/static/reception/js/main.js"></script>
<script src="${ctxPath}/static/modular/tssc/product/product.js"></script>

<script>
    $(function () {
        
    });
    function goLeft(event) {
        var a = $(event.target).parent().parent();
        var id = a.attr("data-articleid");
        console.log(a);
        $.ajax({
            url:"${ctxPath}/product/detail",
            type:"post",
            data:{id:id},
            dataType:"json",
            success:function (result){
                result = result.data;
                var customer = result.customer;
                var name = result.name;
                var genreName = '';
                var genres = result.genres;
                for(var genre in genres){
                    genreName += genre.name;
                }
                var introduce = result.introduce;
                var studio = result.studio;
                var images = result.image;
                var image = images.split(";");

                console.log(customer+name+genreName+introduce+studio+images);

                $("#section_product").attr("data-subpage",id);
                $("#customer").text(customer);
                $("#product_name").text(name);
                $("#studio_name").text(genreName);
                $("#product_introduce").html(introduce);
                $("#studio_logo").attr("src",studio.logo);
                $("#works").attr("style","display: block; opacity: 1; transform: translate(-100%, 0%) matrix(1, 0, 0, 1, 0, 0);");

                var li = "";
                var div = "";
                for(var i = 0; i < image.length ; i++){
                    if(i == 0){
                        li += '<li data-target="#carousel-example-generic" data-slide-to="'+i+'" class="active"></li>';
                        div += '<div class="item  active">';
                        // div += '<img src="${ctxPath}/product/"'+image[i]+' width="608px" height="308px" alt="...">';
                        div += '<img src="${ctxPath}/static/reception/img/misc/ad-profile.jpg" width="100%" height="100%" alt="...">';
                        div += '<div class="carousel-caption">';
                        div += '</div>';
                        div += '</div>';
                    }else{
                        li += '<li data-target="#carousel-example-generic" data-slide-to="'+i+'"></li>';
                        div += '<div class="item">';
                        // div += '<img src="${ctxPath}/product/"'+image[i]+' width="608px" height="308px" alt="...">';
                        div += '<img src="${ctxPath}/static/reception/img/misc/ad-profile.jpg" width="608px" height="308px" alt="...">';
                        div += '<div class="carousel-caption">';
                        div += '</div>';
                        div += '</div>';
                    }
                }
                var $li = $(li);
                var $div = $(div);
                $("#img_ol").append($li);
                $("#img_div").append($div);
            },
            fail:function () {
                Feng.error("");
            }
        });


    }

</script>
</body>
</html>
